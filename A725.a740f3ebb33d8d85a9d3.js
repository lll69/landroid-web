(self.webpackChunklandroid_web=self.webpackChunklandroid_web||[]).push([[725],{6725(t,e,s){"use strict";s.d(e,{G:()=>u,l:()=>d});var r=s(9927),i=s(2079),o=(s(3327),s(4666)),n=s(6409),a=s(4201),c=s(7730);const l=Math.PI,p=Math.ceil,h=(Math.max,Math.sqrt);class d{constructor(){this.containerDash=[0,0],this.spaceshipPath=(0,o.$1)("\nM11.853 0\nC11.853 -4.418 8.374 -8 4.083 -8\nL-5.5 -8\nC-6.328 -8 -7 -7.328 -7 -6.5\nC-7 -5.672 -6.328 -5 -5.5 -5\nL-2.917 -5\nC-1.26 -5 0.083 -3.657 0.083 -2\nL0.083 2\nC0.083 3.657 -1.26 5 -2.917 5\nL-5.5 5\nC-6.328 5 -7 5.672 -7 6.5\nC-7 7.328 -6.328 8 -5.5 8\nL4.083 8\nC8.374 8 11.853 4.418 11.853 0\nZ\n"),this.thrustPath=(0,o.N6)(-3,3,-4,0)}drawUniverse(t){t.constraints.forEach(t=>{t instanceof a.aw?this.drawLanding(t):t instanceof n.mc&&this.drawContainer(t)}),this.drawStar(t.star),t.entities.forEach(e=>{e!==t.ship&&e!==t.star&&(e instanceof a.B8?this.drawSpacecraft(e):e instanceof a.OP?this.drawSpark(e):e instanceof a.rm&&this.drawPlanet(e))}),this.drawSpacecraft(t.ship)}drawContainer(t){const e=this.context,s=this.helper,r=this.containerDash;r[0]=r[1]=8/this.zoom,e.setLineDash(r),s.drawCircle("#800000",1/this.zoom,0,0,t.radius),s.clearLineDash()}drawGravitationalField(t){const e=this.helper;for(let s=0;s<8;s++){const r=(0,i.C)(200,.01,s/8),o=h(.01*t.mass*10/r);e.drawCircle("rgba(255,0,0,"+(0,i.C)(.5,.1,s/8)+")",2/this.zoom,t.pos.x,t.pos.y,o)}}drawPlanet(t){this.context;const e=this.helper;e.drawCircle("rgba(0,255,255,0.5)",1/this.zoom,t.orbitCenter.x,t.orbitCenter.y,t.pos.distance(t.orbitCenter)),this.drawGravitationalField(t),e.fillCircle("#16161D",t.pos.x,t.pos.y,t.radius),e.drawCircle(t.color,2/this.zoom,t.pos.x,t.pos.y,t.radius)}drawStar(t){const e=this.context,s=this.helper,r=s.x,i=s.y;s.x-=t.pos.x,s.y-=t.pos.y,e.save(),e.translate(t.pos.x,t.pos.y),s.fillCircle(t.color,0,0,t.radius),this.drawGravitationalField(t),e.save(),e.rotate(t.anim/23*l*2),e.strokeStyle=t.color,e.lineWidth=3/this.zoom,e.lineJoin="round",e.stroke((0,o.DT)(t.radius+80,t.radius+250,31)),e.restore(),e.rotate(t.anim/-19*l*2),e.strokeStyle=t.color,e.lineWidth=3/this.zoom,e.lineJoin="round",e.stroke((0,o.DT)(t.radius+20,t.radius+200,32)),e.restore(),s.x=r,s.y=i}drawSpacecraft(t){const e=this.context,s=this.helper,r=s.x,i=s.y;s.x-=t.pos.x,s.y-=t.pos.y,e.save(),e.translate(t.pos.x,t.pos.y),e.rotate(t.angle),e.fillStyle="#16161D",e.fill(this.spaceshipPath),e.strokeStyle=t.transit?"#000000":"#FFFFFF",e.lineWidth=2/this.zoom,e.stroke(this.spaceshipPath),0===t.thrust.x&&0===t.thrust.y||(e.strokeStyle="#FF8800",e.lineJoin="round",e.lineWidth=2/this.zoom,e.stroke(this.thrustPath)),e.restore(),s.x=r,s.y=i,this.drawTrack(t.track)}drawLanding(t){const e=this.context,s=(0,c.eP)(c.ZY.Zero(),t.angle,t.planet.radius).addSelf(t.planet.pos);e.strokeStyle="#FF0000",e.lineWidth=1/this.zoom,e.beginPath(),e.moveTo(s.x-5,s.y-5),e.lineTo(s.x+5,s.y+5),e.stroke(),e.beginPath(),e.moveTo(s.x+5,s.y-5),e.lineTo(s.x-5,s.y+5),e.stroke()}drawSpark(t){if(t.lifetime<0)return;const e=this.context;switch(t.style){case a.Jx.LINE:0===t.opos.x&&0===t.opos.y||(e.strokeStyle=t.color,e.lineWidth=t.size,e.beginPath(),e.moveTo(t.opos.x,t.opos.y),e.lineTo(t.pos.x,t.pos.y),e.stroke());break;case a.Jx.LINE_ABSOLUTE:0===t.opos.x&&0===t.opos.y||(e.strokeStyle=t.color,e.lineWidth=t.size/this.zoom,e.beginPath(),e.moveTo(t.opos.x,t.opos.y),e.lineTo(t.pos.x,t.pos.y),e.stroke());break;case a.Jx.DOT:e.fillStyle=t.color,e.beginPath(),e.arc(t.pos.x,t.pos.y,t.size,0,2*l),e.fill();break;case a.Jx.DOT_ABSOLUTE:e.fillStyle=t.color,e.beginPath(),e.arc(t.pos.x/this.zoom,t.pos.y/this.zoom,t.size,0,2*l),e.fill();break;case a.Jx.RING:e.strokeStyle=t.color,e.lineWidth=1/this.zoom,e.beginPath(),e.arc(t.pos.x,t.pos.y,t.size,0,2*l),e.stroke()}}drawTrack(t){const e=this.context,s=this.helper;{const r=1/this.zoom;let i,o,n=!1;e.strokeStyle="#00FF00",e.lineWidth=r,t.positions.forEach((t,a)=>{0!==a&&(s.mayDrawLine(r,i,o,t.x,t.y)?(n||(n=!0,e.beginPath(),e.moveTo(i,o)),e.lineTo(t.x,t.y)):n&&(n=!1,e.stroke())),i=t.x,o=t.y}),n&&(n=!1,e.stroke())}}}class u extends a._D{constructor(t,e){super(t,e),this.triggerDraw=1/0,this.realDt=1/0,r.$&&console.log("VisibleUniverse Random Seed:",e)}simulateFrame(t){const e=this.triggerDraw,s=t-e;if(0!==s)if(this.triggerDraw=t,this.realDt=s,s>24){const t=p(s/24);for(let r=1;r<=t;r++)this.step(e+s/t*r)}else this.step(t)}}},7604(t,e,s){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(t){return function(t,e){var s,r,n,a,c,l,p,h,d,u=1,y=t.length,f="";for(r=0;r<y;r++)if("string"==typeof t[r])f+=t[r];else if("object"==typeof t[r]){if((a=t[r]).keys)for(s=e[u],n=0;n<a.keys.length;n++){if(null==s)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[n],a.keys[n-1]));s=s[a.keys[n]]}else s=a.param_no?e[a.param_no]:e[u++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&s instanceof Function&&(s=s()),i.numeric_arg.test(a.type)&&"number"!=typeof s&&isNaN(s))throw new TypeError(o("[sprintf] expecting number but found %T",s));switch(i.number.test(a.type)&&(h=s>=0),a.type){case"b":s=parseInt(s,10).toString(2);break;case"c":s=String.fromCharCode(parseInt(s,10));break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,a.width?parseInt(a.width):0);break;case"e":s=a.precision?parseFloat(s).toExponential(a.precision):parseFloat(s).toExponential();break;case"f":s=a.precision?parseFloat(s).toFixed(a.precision):parseFloat(s);break;case"g":s=a.precision?String(Number(s.toPrecision(a.precision))):parseFloat(s);break;case"o":s=(parseInt(s,10)>>>0).toString(8);break;case"s":s=String(s),s=a.precision?s.substring(0,a.precision):s;break;case"t":s=String(!!s),s=a.precision?s.substring(0,a.precision):s;break;case"T":s=Object.prototype.toString.call(s).slice(8,-1).toLowerCase(),s=a.precision?s.substring(0,a.precision):s;break;case"u":s=parseInt(s,10)>>>0;break;case"v":s=s.valueOf(),s=a.precision?s.substring(0,a.precision):s;break;case"x":s=(parseInt(s,10)>>>0).toString(16);break;case"X":s=(parseInt(s,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?f+=s:(!i.number.test(a.type)||h&&!a.sign?d="":(d=h?"+":"-",s=s.toString().replace(i.sign,"")),l=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",p=a.width-(d+s).length,c=a.width&&p>0?l.repeat(p):"",f+=a.align?d+s+c:"0"===l?d+c+s:c+d+s)}return f}(function(t){if(a[t])return a[t];for(var e,s=t,r=[],o=0;s;){if(null!==(e=i.text.exec(s)))r.push(e[0]);else if(null!==(e=i.modulo.exec(s)))r.push("%");else{if(null===(e=i.placeholder.exec(s)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){o|=1;var n=[],c=e[2],l=[];if(null===(l=i.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(n.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=i.key_access.exec(c)))n.push(l[1]);else{if(null===(l=i.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");n.push(l[1])}e[2]=n}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}s=s.substring(e[0].length)}return a[t]=r}(t),arguments)}function n(t,e){return o.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.sprintf=o,e.vsprintf=n,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=n,void 0===(r=function(){return{sprintf:o,vsprintf:n}}.call(e,s,e,t))||(t.exports=r))}()},7730(t,e,s){"use strict";s.d(e,{HX:()=>d,N7:()=>l,Pj:()=>p,ZY:()=>c,eP:()=>h});var r=s(7604);const i=Math.atan2,o=Math.cos,n=Math.sin,a=Math.sqrt;class c{constructor(t,e){this.x=t,this.y=e}copy(){return new c(this.x,this.y)}str(){return(0,r.sprintf)("<%+7.0f,%+7.0f>",this.x,this.y)}mag(){const t=this.x,e=this.y;return a(t*t+e*e)}distance(t){const e=this.x-t.x,s=this.y-t.y;return a(e*e+s*s)}angle(){return i(this.y,this.x)}static Zero(){return new c(0,0)}addSelf(t){return this.x+=t.x,this.y+=t.y,this}}function l(t,e){t.x=e.x,t.y=e.y}function p(t,e){return i(t.y-e.y,t.x-e.x)}function h(t,e,s){return t.x=s*o(e),t.y=s*n(e),t}function d(t,e,s){return t.x+=s*o(e),t.y+=s*n(e),t}}}]);